<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Audiobook Finder</title>
  <link rel="icon" href="/static/favicon.ico" sizes="any">
  <link rel="icon" type="image/png" sizes="32x32" href="/static/favicon-32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/static/favicon-16.png">
  <link rel="apple-touch-icon" href="/static/favicon-180.png">
  <meta name="theme-color" content="#8b2635">
  <link rel="stylesheet" href="/static/css/main.css">
</head>
<body>
  <nav class="task-bar">
    <button id="navSearch" class="nav-btn active" title="Search for audiobooks">
      ğŸ” Search
    </button>
    <button id="navHistory" class="nav-btn" title="View download history and imports">
      ğŸ“‹ History
    </button>
    <button id="navShowcase" class="nav-btn" title="Browse audiobooks in grid view">
      ğŸ­ Showcase
    </button>
    <button id="navLogs" class="nav-btn" title="View application logs">
      ğŸ“„ Logs
    </button>
    <div class="task-bar-spacer"></div>
    <span id="navHealth" class="health-indicator" title="Application health status">
      <span class="health-dot"></span>
      <span class="health-text">Checking...</span>
    </span>
  </nav>

  <header>
    <h1>ğŸ“š Audiobook Finder</h1>
    <span class="muted">Download Audiobooks and Import to Audiobookshelf</span>
  </header>

  <form id="searchForm" class="row">
    <input id="q" type="text" placeholder="Search title/author/narrator" />
    <select id="sort">
      <option value="default">Sort: Default</option>
      <option value="seedersDesc">Seeders â†“</option>
      <option value="dateDesc">Date Added â†“</option>
      <option value="sizeDesc">Size â†“</option>
    </select>
    <select id="perpage">
      <option>25</option>
      <option>50</option>
      <option>100</option>
    </select>
    <button id="searchBtn" type="submit">Search</button>
  </form>

    <div id="status" class="muted"></div>

    <table id="results" style="display:none">
		<thead>
		  <tr>
		    <th style="width: 80px">Cover</th>
		    <th>Title</th>
		    <th>Author</th>
		    <th>Narrator</th>
		    <th>Filetype</th>
		    <th class="right">Size</th>
		    <th class="right">Seeders</th>
		    <th>Uploaded</th>
		    <th class="center">Link</th>
		    <th>Add</th>
		  </tr>
		</thead>
      <tbody></tbody>
    </table>
    
    <div id="historyCard" class="card" style="margin-top:1rem; display:none">
      <h3>History</h3>
      <table id="history">
        <thead>
		    <tr>
		      <th style="width: 80px">Cover</th>
		      <th>Title</th>
		      <th>Author</th>
		      <th>Narrator</th>
		      <th class="center">Link</th>
		      <th>When</th>
		      <th>Status</th>
		      <th>Import</th>
		      <th>Remove</th>
		    </tr>
        </thead>
        <tbody></tbody>
      </table>
    </div>

    <div id="logsCard" class="card" style="margin-top:1rem; display:none">
      <div class="logs-header">
        <h3>Application Logs</h3>
        <div class="logs-controls">
          <select id="logLevel">
            <option value="">All Levels</option>
            <option value="INFO">INFO</option>
            <option value="WARNING">WARNING</option>
            <option value="ERROR">ERROR</option>
          </select>
          <select id="logLines">
            <option value="50">50 lines</option>
            <option value="100" selected>100 lines</option>
            <option value="250">250 lines</option>
            <option value="500">500 lines</option>
            <option value="1000">1000 lines</option>
          </select>
          <button id="refreshLogsBtn" class="primary">ğŸ”„ Refresh</button>
          <label>
            <input type="checkbox" id="autoScrollLogs" checked> Auto-scroll
          </label>
        </div>
      </div>
      <div id="logsContainer" class="logs-container">
        <pre id="logsContent">Loading logs...</pre>
      </div>
    </div>

    <div id="showcaseCard" class="card" style="margin-top:1rem; display:none">
      <div class="showcase-header">
        <h3>Audiobook Showcase</h3>
        <div class="showcase-controls">
          <input id="showcaseSearch" type="text" placeholder="Search audiobooks..." style="width: 300px">
          <select id="showcaseLimit">
            <option value="50">50 results</option>
            <option value="100" selected>100 results</option>
            <option value="200">200 results</option>
            <option value="500">500 results</option>
          </select>
          <button id="showcaseSearchBtn" class="primary">ğŸ” Search</button>
        </div>
      </div>
      <div id="showcaseStatus" class="muted" style="margin: 1rem 0;"></div>
      <div id="showcaseGrid" class="showcase-grid"></div>
      <div id="showcaseDetail" class="showcase-detail" style="display:none"></div>
    </div>

  <script src="/static/app.js?v=3" defer></script>
</body>
</html>
